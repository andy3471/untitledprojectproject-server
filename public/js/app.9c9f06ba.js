(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{0:function(e,n,t){e.exports=t("2f39")},"2f39":function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"headers",(function(){return U}));var o={};t.r(o),t.d(o,"getUserDetails",(function(){return y})),t.d(o,"loginToken",(function(){return O})),t.d(o,"loginError",(function(){return P})),t.d(o,"logout",(function(){return _}));var a={};t.r(a),t.d(a,"login",(function(){return S})),t.d(a,"loginSpa",(function(){return V})),t.d(a,"loginToken",(function(){return j})),t.d(a,"logout",(function(){return T})),t.d(a,"logoutSpa",(function(){return $})),t.d(a,"logoutToken",(function(){return I})),t.d(a,"getUserDetails",(function(){return L}));var u=t("967e"),i=t.n(u),c=(t("a481"),t("96cf"),t("fa84")),s=t.n(c),l=(t("5c7d"),t("7d6e"),t("e54f"),t("985d"),t("31cd"),t("2b0e")),p=t("1f91"),f=t("42d2"),d=t("b05d");l["a"].use(d["a"],{config:{},lang:p["a"],iconSet:f["a"]});var h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"q-app"}},[t("router-view")],1)},g=[],m={name:"App"},b=m,v=t("2877"),w=Object(v["a"])(b,h,g,!1,null,null,null),k=w.exports,E=t("2f62"),x=t("0e44"),A=function(){return{user:{},loggedIn:!1,token:"",loginError:"",tokenAuth:!1}};function U(e){if(e.tokenAuth){var n="Bearer ";return{Authorization:n.concat(e.token),Accept:"application/json"}}return{Accept:"application/json"}}function y(e,n){e.user=n,e.loggedIn=!0}function O(e,n){e.token=n,e.tokenAuth=!0}function P(e,n){e.loginError=n}function _(e){e.loggedIn=!1,e.user={},e.tokenAuth=!1}t("ac6a"),t("cadf"),t("06db"),t("456d");var D=t("bc3a"),R=t.n(D);function S(e,n){e.commit("loginError",""),e.dispatch("loginSpa",n)}function V(e,n){var t=this;R.a.get("/airlock/csrf-cookie").then((function(r){R.a.post("/login",{email:n.email,password:n.password}).then((function(n){e.dispatch("getUserDetails"),t.$router.push("/")})).catch((function(n){var t=Object.keys(n.response.data.errors)[0];e.commit("loginError",n.response.data.errors[t][0])}))}))}function j(e,n){var t=this;R.a.post("/api/login",{email:n.email,password:n.password,device_name:"upp_app"}).then((function(n){e.commit("loginToken",n.data),e.dispatch("getUserDetails"),t.$router.push("/")})).catch((function(n){var t=Object.keys(n.response.data.errors)[0];e.commit("loginError",n.response.data.errors[t][0])}))}function T(e){e.dispatch("logoutSpa")}function $(e){var n=this;R.a.post("logout").then((function(t){n.$router.push("/login"),e.commit("logout")}))}function I(e){var n=this;R.a.get("/api/logout",{headers:e.getters.headers}).then((function(t){n.$router.push("/login"),e.commit("logout")}))}function L(e){R.a.get("/api/user",{headers:e.getters.headers}).then((function(n){e.commit("getUserDetails",n.data)}))}R.a.defaults.withCredentials=!0,R.a.defaults.baseURL=Object({NODE_ENV:"production",CLIENT:!0,SERVER:!1,DEV:!1,PROD:!0,MODE:"spa",VUE_ROUTER_MODE:"hash",VUE_ROUTER_BASE:"",APP_URL:"undefined"}).BASE_URL;var B={namespaced:!0,state:A,getters:r,mutations:o,actions:a};l["a"].use(E["a"]);var C=new E["a"].Store({modules:{auth:B},plugins:[Object(x["a"])({paths:["auth"]})],namespaced:!0,strict:!1}),N=C,q=t("8c4f"),J=[{path:"/",component:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"713b"))},children:[{path:"",component:function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,"8b24"))}}],beforeEnter:function(e,n,t){N.state.auth.loggedIn?t():t("/login")}},{path:"/login",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"26ad"))},children:[{path:"",component:function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,"013f"))}}]},{path:"/register",component:function(){return Promise.all([t.e(0),t.e(1)]).then(t.bind(null,"26ad"))},children:[{path:"",component:function(){return Promise.all([t.e(0),t.e(8)]).then(t.bind(null,"56b4"))}}]}];J.push({path:"*",component:function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,"e51e"))}});var M=J;l["a"].use(q["a"]);var z=function(){var e=new q["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:M,mode:"hash",base:""});return e},Q=function(){return F.apply(this,arguments)};function F(){return F=s()(i.a.mark((function e(){var n,t,r;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof N){e.next=6;break}return e.next=3,N({Vue:l["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=N;case 7:if(n=e.t0,"function"!==typeof z){e.next=14;break}return e.next=11,z({Vue:l["a"],store:n});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=z;case 15:return t=e.t1,n.$router=t,r={el:"#q-app",router:t,store:n,render:function(e){return e(k)}},e.abrupt("return",{app:r,store:n,router:t});case 19:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}var G=t("a925"),H={failed:"Action failed",success:"Action was successful"},K={"en-us":H};l["a"].use(G["a"]);var W=new G["a"]({locale:"en-us",fallbackLocale:"en-us",messages:K}),X=function(e){var n=e.app;n.i18n=W};function Y(){return Z.apply(this,arguments)}function Z(){return Z=s()(i.a.mark((function e(){var n,t,r,o,a,u,c,s,p;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:n=e.sent,t=n.app,r=n.store,o=n.router,a=!0,u=function(e){a=!1,window.location.href=e},c=window.location.href.replace(window.location.origin,""),s=[X,void 0],p=0;case 11:if(!(!0===a&&p<s.length)){e.next=29;break}if("function"===typeof s[p]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,s[p]({app:t,router:o,store:r,Vue:l["a"],ssrContext:null,redirect:u,urlPath:c});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:p++,e.next=11;break;case 29:if(!1!==a){e.next=31;break}return e.abrupt("return");case 31:new l["a"](t);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Z.apply(this,arguments)}l["a"].prototype.$axios=R.a,Y()},"31cd":function(e,n,t){}},[[0,3,0]]]);